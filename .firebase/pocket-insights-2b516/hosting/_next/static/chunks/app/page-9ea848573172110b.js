(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4549:(e,t,a)=>{"use strict";a.d(t,{D:()=>l,Yq:()=>c,vv:()=>d});var s=a(19164),r=a(74641),n=a(52873),i=a(83013);let o=()=>{let e=new Date;return{start:(0,s.w)(e),end:(0,r.p)(e)}},l=e=>{let{start:t,end:a}=o(),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(a.getFullYear(),a.getMonth(),a.getDate());return(0,n.v)(s,{start:r,end:i})},d=e=>"Nu. "+e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),c=e=>(0,i.GP)(e,"PPP")},25383:(e,t,a)=>{"use strict";a.d(t,{j:()=>n});var s=a(95155),r=a(519);function n(){return(0,s.jsx)("header",{className:"py-6",children:(0,s.jsxs)("div",{className:"container mx-auto flex items-center space-x-3 max-w-3xl px-4",children:[(0,s.jsx)(r.A,{className:"h-10 w-10 text-primary"}),(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Pocket Insights"})]})})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>l});var s=a(95155),r=a(12115),n=a(99708),i=a(74466),o=a(59434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},56104:(e,t,a)=>{"use strict";let s;a.d(t,{db:()=>o});var r=a(23915),n=a(35317);let i={apiKey:"AIzaSyB-baEB6Kdk3du2y5Yvj8IA-9jzSbwPp64",authDomain:"pocket-insights-2b516.firebaseapp.com",projectId:"pocket-insights-2b516",storageBucket:"pocket-insights-2b516.appspot.com",messagingSenderId:"923323492251",appId:"1:923323492251:web:9b8b4d9531119d5fe2633e",measurementId:"G-7NN11F8882"};(0,r.Dk)().length?s=(0,r.Sx)():(i.apiKey&&i.projectId||console.error("Firebase API Key or Project ID is missing. Please check your .env.local file or the environment variables."),s=(0,r.Wp)(i));let o=(0,n.aU)(s)},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(52596),r=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},61460:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eO});var s=a(95155),r=a(12115),n=a(6874),i=a.n(n),o=a(25383),l=a(62177),d=a(90221),c=a(99708),u=a(59434),m=a(40968),f=a(74466);let p=(0,f.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m.b,{ref:t,className:(0,u.cn)(p(),a),...r})});x.displayName=m.b.displayName;let g=l.Op,h=r.createContext({}),v=e=>{let{...t}=e;return(0,s.jsx)(h.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},b=()=>{let e=r.useContext(h),t=r.useContext(y),{getFieldState:a,formState:s}=(0,l.xW)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},y=r.createContext({}),j=r.forwardRef((e,t)=>{let{className:a,...n}=e,i=r.useId();return(0,s.jsx)(y.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,u.cn)("space-y-2",a),...n})})});j.displayName="FormItem";let N=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:n,formItemId:i}=b();return(0,s.jsx)(x,{ref:t,className:(0,u.cn)(n&&"text-destructive",a),htmlFor:i,...r})});N.displayName="FormLabel";let w=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:i,formMessageId:o}=b();return(0,s.jsx)(c.DX,{ref:t,id:n,"aria-describedby":r?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!r,...a})});w.displayName="FormControl",r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:n}=b();return(0,s.jsx)("p",{ref:t,id:n,className:(0,u.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let S=r.forwardRef((e,t)=>{var a;let{className:r,children:n,...i}=e,{error:o,formMessageId:l}=b(),d=o?String(null!==(a=null==o?void 0:o.message)&&void 0!==a?a:""):n;return d?(0,s.jsx)("p",{ref:t,id:l,className:(0,u.cn)("text-sm font-medium text-destructive",r),...i,children:d}):null});S.displayName="FormMessage";let C=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});C.displayName="Input";var k=a(30285),D=a(83013),A=a(51920),R=a(965),F=a(73158),I=a(24680);function E(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(I.hv,{showOutsideDays:r,className:(0,u.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,u.cn)((0,k.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,u.cn)((0,k.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(R.A,{className:(0,u.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(F.A,{className:(0,u.cn)("h-4 w-4",t),...a})}},...n})}E.displayName="Calendar";var T=a(31386);let P=T.bL,_=T.l9,B=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:n=4,...i}=e;return(0,s.jsx)(T.ZL,{children:(0,s.jsx)(T.UC,{ref:t,align:r,sideOffset:n,className:(0,u.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});function M(e){let{value:t,onChange:a,disabled:r,className:n,buttonClassName:i,placeholder:o="Pick a date"}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsxs)(k.$,{variant:"outline",className:(0,u.cn)("w-full justify-start text-left font-normal",!t&&"text-muted-foreground",i),children:[(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"}),t?(0,D.GP)(t,"PPP"):(0,s.jsx)("span",{children:o})]})}),(0,s.jsx)(B,{className:(0,u.cn)("w-auto p-0",n),children:(0,s.jsx)(E,{mode:"single",selected:t,onSelect:a,disabled:r,initialFocus:!0})})]})}B.displayName=T.UC.displayName;var G=a(55594);let z=["Bathroom and Toilet Supplies","Books and Study Materials","Business Travel","Cable or TV Subscription","Car Insurance","Charity Donations","Childcare Services","Clothing","Coffee, Snacks, and Drinks","Concerts and Events","Dining Out","Electronics","Emergency Fund","Entertainment Subscriptions","Fines and Penalties","Flight Tickets","Food Delivery","Fuel","Gifts","Groceries","Gym and Fitness","Haircuts and Salon","Health Insurance","Hobbies and Crafts","Home Cleaning Supplies","Home Decor and Furnishings","Hotel Stays","Household Supplies","Income Taxes","Internet","Kids' Supplies","Laundry and Dry Cleaning","Loan Payments","Medical and Health Supplies","Movies and Shows","Online Courses and Learning Platforms","Others","Parking Fees","Pet Food","Pet Toys and Accessories","Pharmacy and Medication","Professional Services","Public Transport","Religious Offerings","Rent","Repairs and Maintenance","School Fees","Skincare and Grooming","Software Subscriptions","Souvenirs","Streaming Subscriptions","Taxi and Ride-Sharing","Toys and Activities","Unplanned Expenses","Utilities – Electricity","Utilities – Gas","Vehicle Maintenance","Vegetables","Video Games"],H={Food:"Utensils",Transport:"Car",Housing:"Home",Utilities:"Zap",Entertainment:"Film",Health:"HeartPulse",Shopping:"ShoppingBag","Bathroom and Toilet Supplies":"Bath","Books and Study Materials":"BookOpen","Business Travel":"Briefcase","Cable or TV Subscription":"Tv","Car Insurance":"ShieldCheck","Charity Donations":"Gift","Childcare Services":"Baby",Clothing:"Shirt","Coffee, Snacks, and Drinks":"Coffee","Concerts and Events":"Music","Dining Out":"Utensils",Electronics:"Laptop","Emergency Fund":"Landmark","Entertainment Subscriptions":"PlayCircle","Fines and Penalties":"Gavel","Flight Tickets":"Plane","Food Delivery":"Bike",Fuel:"Fuel",Gifts:"Gift",Groceries:"ShoppingCart","Gym and Fitness":"Dumbbell","Haircuts and Salon":"Scissors","Health Insurance":"ShieldCheck","Hobbies and Crafts":"Brush","Home Cleaning Supplies":"Sparkles","Home Decor and Furnishings":"Sofa","Hotel Stays":"BedDouble","Household Supplies":"ShoppingBasket","Income Taxes":"Percent",Internet:"Wifi","Kids' Supplies":"Package","Laundry and Dry Cleaning":"WashingMachine","Loan Payments":"CreditCard","Medical and Health Supplies":"Pill","Movies and Shows":"Clapperboard","Online Courses and Learning Platforms":"GraduationCap","Parking Fees":"ParkingSquare","Pet Food":"Bone","Pet Toys and Accessories":"Dog","Pharmacy and Medication":"Syringe","Professional Services":"Users","Public Transport":"Bus","Religious Offerings":"HandCoins",Rent:"Home","Repairs and Maintenance":"Wrench","School Fees":"School","Skincare and Grooming":"Droplets","Software Subscriptions":"AppWindow",Souvenirs:"MapPin","Streaming Subscriptions":"Play","Taxi and Ride-Sharing":"CarTaxiFront","Toys and Activities":"ToyBrick","Unplanned Expenses":"AlertTriangle","Utilities – Electricity":"Zap","Utilities – Gas":"Flame","Vehicle Maintenance":"Car",Vegetables:"Carrot","Video Games":"Gamepad2",Others:"HelpCircle"},O=G.z.object({source:G.z.string().min(1,"Source is required."),amount:G.z.preprocess(e=>null===e||""===e?void 0:parseFloat(String(e)),G.z.number({required_error:"Amount is required.",invalid_type_error:"Amount must be a number."}).positive("Amount must be positive.")),date:G.z.date({required_error:"Date is required."})}),V=G.z.object({category:G.z.enum(z,{required_error:"Category is required."}),description:G.z.string().optional(),amount:G.z.preprocess(e=>null===e||""===e?void 0:parseFloat(String(e)),G.z.number({required_error:"Amount is required.",invalid_type_error:"Amount must be a number."}).positive("Amount must be positive.")),date:G.z.date({required_error:"Date is required."})}),L=G.z.object({targetSavingsRate:G.z.preprocess(e=>null===e||""===e?void 0:parseFloat(String(e)),G.z.number({required_error:"Target savings rate is required.",invalid_type_error:"Rate must be a number."}).min(0,"Rate must be at least 0.").max(1,"Rate must be at most 1."))});var U=a(34301);function q(e){let{onSubmit:t}=e,a=(0,l.mN)({resolver:(0,d.u)(O),defaultValues:{source:"",amount:null,date:new Date}});return(0,s.jsx)(g,{...a,children:(0,s.jsxs)("form",{onSubmit:a.handleSubmit(e=>{t({...e,amount:null===e.amount?0:e.amount}),a.reset(),a.setValue("date",new Date),a.setValue("amount",null),a.setValue("source","")}),className:"space-y-6",children:[(0,s.jsx)(v,{control:a.control,name:"source",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{children:"Income Source"}),(0,s.jsx)(w,{children:(0,s.jsx)(C,{placeholder:"e.g., Salary, Freelance Project",...t})}),(0,s.jsx)(S,{})]})}}),(0,s.jsx)(v,{control:a.control,name:"amount",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{children:"Amount"}),(0,s.jsx)(w,{children:(0,s.jsx)(C,{type:"number",placeholder:"0.00",...t,value:null===t.value?"":t.value,onChange:e=>{let a=e.target.value;t.onChange(""===a?null:parseFloat(a)||null)}})}),(0,s.jsx)(S,{})]})}}),(0,s.jsx)(v,{control:a.control,name:"date",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{className:"flex flex-col",children:[(0,s.jsx)(N,{children:"Date"}),(0,s.jsx)(M,{value:t.value,onChange:t.onChange}),(0,s.jsx)(S,{})]})}}),(0,s.jsxs)(k.$,{type:"submit",className:"w-full sm:w-auto",children:[(0,s.jsx)(U.A,{className:"mr-2 h-4 w-4"})," Add Income"]})]})})}var W=a(21887),Z=a(10518),Y=a(77740),$=a(75074),J=a(15452),K=a(25318);J.bL,J.l9;let X=J.ZL;J.bm;let Q=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.hJ,{ref:t,className:(0,u.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});Q.displayName=J.hJ.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(X,{children:[(0,s.jsx)(Q,{}),(0,s.jsxs)(J.UC,{ref:t,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(J.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}).displayName=J.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.hE,{ref:t,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})}).displayName=J.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.VY,{ref:t,className:(0,u.cn)("text-sm text-muted-foreground",a),...r})}).displayName=J.VY.displayName;let ee=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Y.uB,{ref:t,className:(0,u.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});ee.displayName=Y.uB.displayName;let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)($.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(Y.uB.Input,{ref:t,className:(0,u.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});et.displayName=Y.uB.Input.displayName;let ea=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Y.uB.List,{ref:t,className:(0,u.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});ea.displayName=Y.uB.List.displayName;let es=r.forwardRef((e,t)=>(0,s.jsx)(Y.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));es.displayName=Y.uB.Empty.displayName;let er=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Y.uB.Group,{ref:t,className:(0,u.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});er.displayName=Y.uB.Group.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Y.uB.Separator,{ref:t,className:(0,u.cn)("-mx-1 h-px bg-border",a),...r})}).displayName=Y.uB.Separator.displayName;let en=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Y.uB.Item,{ref:t,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",a),...r})});function ei(e){var t;let{options:a,value:n,onChange:i,placeholder:o="Select an option...",searchPlaceholder:l="Search options...",notFoundText:d="No option found.",className:c}=e,[m,f]=r.useState(!1);return(0,s.jsxs)(P,{open:m,onOpenChange:f,children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsxs)(k.$,{variant:"outline",role:"combobox","aria-expanded":m,className:(0,u.cn)("w-full justify-between",c,!n&&"text-muted-foreground"),children:[n?null===(t=a.find(e=>e.value===n))||void 0===t?void 0:t.label:o,(0,s.jsx)(W.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(B,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,s.jsxs)(ee,{children:[(0,s.jsx)(et,{placeholder:l}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{children:d}),(0,s.jsx)(er,{children:a.map(e=>(0,s.jsxs)(en,{value:e.value,onSelect:e=>{i(e===n?"":e),f(!1)},children:[(0,s.jsx)(Z.A,{className:(0,u.cn)("mr-2 h-4 w-4",n===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})]})})]})}en.displayName=Y.uB.Item.displayName;let eo=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,u.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});eo.displayName="Textarea";let el=z.map(e=>({value:e,label:e}));function ed(e){let{onSubmit:t}=e,a=(0,l.mN)({resolver:(0,d.u)(V),defaultValues:{category:void 0,description:"",amount:null,date:new Date}});return(0,s.jsx)(g,{...a,children:(0,s.jsxs)("form",{onSubmit:a.handleSubmit(e=>{t({...e,amount:null===e.amount?0:e.amount}),a.reset(),a.setValue("date",new Date),a.setValue("amount",null),a.setValue("category",void 0),a.setValue("description","")}),className:"space-y-6",children:[(0,s.jsx)(v,{control:a.control,name:"category",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{className:"flex flex-col",children:[(0,s.jsx)(N,{children:"Category"}),(0,s.jsx)(ei,{options:el,value:t.value,onChange:e=>t.onChange(e),placeholder:"Select a category",searchPlaceholder:"Search categories...",notFoundText:"No category found."}),(0,s.jsx)(S,{})]})}}),(0,s.jsx)(v,{control:a.control,name:"description",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{children:"Description (Optional)"}),(0,s.jsx)(w,{children:(0,s.jsx)(eo,{placeholder:"e.g., Groceries for the week",...t})}),(0,s.jsx)(S,{})]})}}),(0,s.jsx)(v,{control:a.control,name:"amount",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{children:"Amount"}),(0,s.jsx)(w,{children:(0,s.jsx)(C,{type:"number",placeholder:"0.00",...t,value:null===t.value?"":t.value,onChange:e=>{let a=e.target.value;t.onChange(""===a?null:parseFloat(a)||null)}})}),(0,s.jsx)(S,{})]})}}),(0,s.jsx)(v,{control:a.control,name:"date",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{className:"flex flex-col",children:[(0,s.jsx)(N,{children:"Date"}),(0,s.jsx)(M,{value:t.value,onChange:t.onChange}),(0,s.jsx)(S,{})]})}}),(0,s.jsxs)(k.$,{type:"submit",className:"w-full sm:w-auto",children:[(0,s.jsx)(U.A,{className:"mr-2 h-4 w-4"})," Add Expense"]})]})})}var ec=a(66695),eu=a(4549),em=a(43380),ef=a(99145),ep=a(89876);function ex(e){let{totalIncome:t,totalExpenses:a,balance:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ec.aR,{children:[(0,s.jsx)(ec.ZB,{className:"text-2xl font-semibold tracking-tight",children:"Monthly Summary"}),(0,s.jsx)(ec.BT,{children:"Your financial overview for the current month."})]}),(0,s.jsxs)(ec.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-secondary/50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(em.A,{className:"h-6 w-6 text-green-500"}),(0,s.jsx)("span",{className:"text-lg",children:"Total Income"})]}),(0,s.jsx)("span",{className:"text-lg font-semibold text-green-600",children:(0,eu.vv)(t)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-secondary/50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(ef.A,{className:"h-6 w-6 text-red-500"}),(0,s.jsx)("span",{className:"text-lg",children:"Total Expenses"})]}),(0,s.jsx)("span",{className:"text-lg font-semibold text-red-600",children:(0,eu.vv)(a)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-primary/10 rounded-lg border border-primary/50",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(ep.A,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("span",{className:"text-lg font-medium",children:"Current Balance"})]}),(0,s.jsx)("span",{className:"text-xl font-bold ".concat(r>=0?"text-primary":"text-destructive"),children:(0,eu.vv)(r)})]})]})]})}var eg=a(9041),eh=a(35227);function ev(e){let{highestSpending:t}=e,a=t&&eh[H[t.category]]||eg.A;return(0,s.jsxs)(ec.Wu,{className:"pt-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 text-foreground/90",children:"Spending Hotspot"}),t?(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-accent/20 rounded-lg border border-accent/50",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(a,{className:"h-6 w-6 text-accent-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Highest Spending Category"}),(0,s.jsx)("p",{className:"text-lg font-medium text-accent-foreground",children:t.category})]})]}),(0,s.jsx)("span",{className:"text-lg font-semibold text-accent-foreground",children:(0,eu.vv)(t.amount)})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)(eg.A,{className:"h-6 w-6 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No expenses recorded this month to analyze."})]})]})}var eb=a(50172),ey=a(17569);let ej=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),eN=r.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,u.cn)(ej({variant:r}),a),...n})});eN.displayName="Alert";let ew=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,u.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});ew.displayName="AlertTitle";let eS=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,u.cn)("text-sm [&_p]:leading-relaxed",a),...r})});function eC(e){let{onSubmit:t,isLoading:a}=e,r=(0,l.mN)({resolver:(0,d.u)(L),defaultValues:{targetSavingsRate:null}}),n=async e=>{null!==e.targetSavingsRate?await t(e.targetSavingsRate):r.trigger()};return(0,s.jsx)(g,{...r,children:(0,s.jsxs)("form",{onSubmit:r.handleSubmit(n),className:"space-y-6",children:[(0,s.jsx)(v,{control:r.control,name:"targetSavingsRate",render:e=>{let{field:t}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{children:"Target Savings Rate (e.g., 0.2 for 20%)"}),(0,s.jsx)(w,{children:(0,s.jsx)(C,{type:"number",placeholder:"0.0 - 1.0",step:"0.01",min:"0",max:"1",...t,value:null===t.value?"":t.value,onChange:e=>{let a=e.target.value;t.onChange(""===a?null:parseFloat(a)||null)}})}),(0,s.jsx)(S,{})]})}}),(0,s.jsxs)(k.$,{type:"submit",disabled:a,className:"w-full sm:w-auto",children:[a?(0,s.jsx)(eb.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(ey.A,{className:"mr-2 h-4 w-4"}),"Get Savings Insights"]})]})})}function ek(e){let{insights:t,isLoading:a,error:r}=e;return a?(0,s.jsxs)("div",{className:"flex items-center justify-center p-6 text-muted-foreground",children:[(0,s.jsx)(eb.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating insights..."]}):r?(0,s.jsxs)(eN,{variant:"destructive",className:"mt-4",children:[(0,s.jsx)(ew,{children:"Error"}),(0,s.jsx)(eS,{children:r})]}):t&&0!==t.length?(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,s.jsx)("h4",{className:"text-md font-semibold",children:"Here are your personalized savings insights:"}),(0,s.jsx)("ul",{className:"list-disc space-y-2 pl-5 text-sm text-foreground/90",children:t.map((e,t)=>(0,s.jsx)("li",{className:"rounded-md bg-background p-3 shadow-sm border border-border/50",children:e},t))})]}):(0,s.jsx)("p",{className:"mt-4 text-center text-muted-foreground",children:'Enter a target savings rate and click "Get Savings Insights" to see personalized suggestions.'})}function eD(e){let{onGetInsights:t,isLoadingInsights:a,savingsInsights:r,savingsInsightsError:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ec.aR,{children:[(0,s.jsx)(ec.ZB,{className:"text-2xl font-semibold tracking-tight",children:"AI Savings Advisor"}),(0,s.jsx)(ec.BT,{children:"Get AI-powered insights to help you reach your savings goals."})]}),(0,s.jsxs)(ec.Wu,{children:[(0,s.jsx)(eC,{onSubmit:t,isLoading:a}),(0,s.jsx)(ek,{insights:r,isLoading:!1,error:n})]})]})}eS.displayName="AlertDescription";var eA=a(18880);let eR=eA.bL,eF=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eA.B8,{ref:t,className:(0,u.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});eF.displayName=eA.B8.displayName;let eI=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eA.l9,{ref:t,className:(0,u.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});eI.displayName=eA.l9.displayName;let eE=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eA.UC,{ref:t,className:(0,u.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});eE.displayName=eA.UC.displayName;var eT=a(87481),eP=a(34477);let e_=(0,eP.createServerReference)("407bbe29a50814fb49f70cc74da3aa04b351f461e1",eP.callServer,void 0,eP.findSourceMapURL,"getSavingsInsights");var eB=a(87489);let eM=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...i}=e;return(0,s.jsx)(eB.b,{ref:t,decorative:n,orientation:r,className:(0,u.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...i})});eM.displayName=eB.b.displayName;var eG=a(56104),ez=a(35317),eH=a(60960);function eO(){let{toast:e}=(0,eT.dj)(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0),[u,m]=(0,r.useState)(void 0),[f,p]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),h=(0,r.useCallback)(async()=>{c(!0);try{let e=(0,ez.P)((0,ez.rJ)(eG.db,"incomeRecords"),(0,ez.My)("date","desc")),t=(await (0,ez.GG)(e)).docs.map(e=>{let t=e.data();return{...t,id:e.id,date:t.date.toDate()}});a(t);let s=(0,ez.P)((0,ez.rJ)(eG.db,"expenseRecords"),(0,ez.My)("date","desc")),r=(await (0,ez.GG)(s)).docs.map(e=>{let t=e.data();return{...t,id:e.id,date:t.date.toDate()}});l(r)}catch(a){let t="Could not load financial records. Please check console and try again later.";a instanceof ez.W6?t="Firestore Error: ".concat(a.code," - ").concat(a.message,". Check console."):a instanceof Error&&(t="Error: ".concat(a.message,". Check console.")),e({variant:"destructive",title:"Error Loading Data",description:t})}finally{c(!1)}},[e]);(0,r.useEffect)(()=>{h()},[h]);let v=(0,r.useMemo)(()=>t.filter(e=>(0,eu.D)(e.date)),[t]),b=(0,r.useMemo)(()=>n.filter(e=>(0,eu.D)(e.date)),[n]),y=(0,r.useMemo)(()=>v.reduce((e,t)=>e+t.amount,0),[v]),j=(0,r.useMemo)(()=>b.reduce((e,t)=>e+t.amount,0),[b]),N=(0,r.useMemo)(()=>y-j,[y,j]),w=(0,r.useMemo)(()=>{let e;if(0===b.length)return;let t={};b.forEach(e=>{t[e.category]=(t[e.category]||0)+e.amount});let a=0;for(let s in t)t[s]>a&&(a=t[s],e=s);return e?{category:e,amount:a}:void 0},[b]),S=async t=>{if(!(t.date instanceof Date)){e({variant:"destructive",title:"Internal Error",description:"Date is invalid."});return}try{let s={...t,date:ez.Dc.fromDate(t.date)},r=await (0,ez.gS)((0,ez.rJ)(eG.db,"incomeRecords"),s);a(e=>[{...t,id:r.id,date:t.date},...e].sort((e,t)=>t.date.getTime()-e.date.getTime())),e({title:"Income Added",description:"".concat(t.source,": Nu. ").concat(t.amount.toFixed(2))})}catch(a){let t="Could not add income record. Please check console for details.";a instanceof ez.W6?t="Firestore Error: ".concat(a.code," - ").concat(a.message,". Check console."):a instanceof Error&&(t="Error: ".concat(a.message,". Check console.")),e({variant:"destructive",title:"Error Adding Income",description:t})}},C=async t=>{if(!(t.date instanceof Date)){e({variant:"destructive",title:"Internal Error",description:"Date is invalid."});return}try{let a={...t,date:ez.Dc.fromDate(t.date)},s=await (0,ez.gS)((0,ez.rJ)(eG.db,"expenseRecords"),a);l(e=>[{...t,id:s.id,date:t.date},...e].sort((e,t)=>t.date.getTime()-e.date.getTime())),e({title:"Expense Added",description:"".concat(t.category,": Nu. ").concat(t.amount.toFixed(2))})}catch(a){let t="Could not add expense record. Please check console for details.";a instanceof ez.W6?t="Firestore Error: ".concat(a.code," - ").concat(a.message,". Check console."):a instanceof Error&&(t="Error: ".concat(a.message,". Check console.")),e({variant:"destructive",title:"Error Adding Expense",description:t})}},D=async t=>{if(p(!0),g(null),m(void 0),0===y&&0===b.length){e({variant:"default",title:"No Data for Insights",description:"Please add some income and expenses for the current month to get insights."}),p(!1);return}let a=b.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+t.amount,e),{});try{let s=await e_({income:y,expenses:a,targetSavingsRate:t});m(s.insights),e({title:"Insights Generated!",description:"Check out your personalized savings tips."})}catch(a){let t=a instanceof Error?a.message:"Failed to generate insights.";g(t),e({variant:"destructive",title:"Error Generating Insights",description:t})}finally{p(!1)}};return d?(0,s.jsxs)("div",{className:"flex flex-col min-h-screen items-center justify-center",children:[(0,s.jsx)(o.j,{}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground mt-8",children:"Loading financial data..."})]}):(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)(o.j,{}),(0,s.jsxs)("div",{className:"container mx-auto max-w-3xl p-4 flex-grow space-y-8",children:[(0,s.jsxs)(ec.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(ec.aR,{children:[(0,s.jsx)(ec.ZB,{className:"text-2xl font-semibold tracking-tight",children:"Record Transactions"}),(0,s.jsx)(ec.BT,{children:"Log your income and expenses to keep track of your finances."})]}),(0,s.jsx)(ec.Wu,{children:(0,s.jsxs)(eR,{defaultValue:"expense",className:"w-full",children:[(0,s.jsxs)(eF,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(eI,{value:"income",children:"Add Income"}),(0,s.jsx)(eI,{value:"expense",children:"Add Expense"})]}),(0,s.jsx)(eE,{value:"income",className:"pt-6",children:(0,s.jsx)(q,{onSubmit:S})}),(0,s.jsx)(eE,{value:"expense",className:"pt-6",children:(0,s.jsx)(ed,{onSubmit:C})})]})})]}),(0,s.jsxs)(ec.Zp,{className:"shadow-lg",children:[(0,s.jsx)(ex,{totalIncome:y,totalExpenses:j,balance:N}),b.length>0&&(0,s.jsx)(eM,{className:"my-4"}),(0,s.jsx)(ev,{highestSpending:w})]}),(0,s.jsxs)(ec.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(ec.aR,{children:[(0,s.jsx)(ec.ZB,{className:"text-2xl font-semibold tracking-tight",children:"Expense History"}),(0,s.jsx)(ec.BT,{children:"View all your recorded expense transactions."})]}),(0,s.jsx)(ec.Wu,{children:(0,s.jsx)(k.$,{asChild:!0,className:"w-full sm:w-auto",children:(0,s.jsxs)(i(),{href:"/all-expenses",children:[(0,s.jsx)(eH.A,{className:"mr-2 h-4 w-4"})," View All Expenses"]})})})]}),(0,s.jsx)(ec.Zp,{className:"shadow-lg",children:(0,s.jsx)(eD,{onGetInsights:D,isLoadingInsights:f,savingsInsights:u,savingsInsightsError:x})})]}),(0,s.jsxs)("footer",{className:"py-6 text-center text-sm text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," Pocket Insights. Developed by Ujwal Hollica with help of Firebase Studio."]})]})}},62694:(e,t,a)=>{Promise.resolve().then(a.bind(a,61460))},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o});var s=a(95155),r=a(12115),n=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var s=a(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,568,1,663,21,472,441,684,358],()=>t(62694)),_N_E=e.O()}]);